# عمل كونفق Ryzen 
| الدعم | الاصدار |
| :--- | :--- |
| بداية الدعم على الماك | macOS 10.13, High Sierra |


???+ Warning "تنبية"
	قد تكون الصور احيانا غير محدثة او لاتظهر التعديلات الصحيحه
	**يرجى دائما اتباع الكلام المكتوب وتجاهل الصور** وظيفتها هي توضيح الاقسام لا غير الا لبعض الاستثانئات

تاكد من الحصول على ملف [Sample.plist من داخل الاوبن كور](/EFI-setup/config/#_3/)


## ACPI

### Add

هذا القسم مخصص لملفات SSDT/ACPI,
كامل التفاصيل حول الملفات المطلوبه لكل جيل وطريقه عملها موجود في صفحه [ACPI](/EFI-setup/ACPI)
بعد الاضافه تاكد من عمل [سنابشوت](/EFI-setup/config/#acpi)

### Delete

لا توجد تعديلات هنا, ابقي كل شيء كما هو , قسم مخصص لمنع اجزاء معينه من ACPI من ظهورها للنظام

### Patch

هذا القسم مخصص لعمل باتشات مباشره اثناء الاقلاع
لكن نحن لا نحتاجه, لان جميع التعديلات موجوده في ملفات ال SSDT/ACPI

وهذه الطريقه تسمح باقلاع انظمه اخرى مثل لينكس او ويندوز من اوبن كور بدون مشاكل

### Quirks

قسم مخصص للاعدادت خاصه ب ACPI, لا توجد تعديلات هنا, ابقي كل شيء كما هو

## Booter

### Quirks

???+ info "Quirks"
	اعدادات مخصصه لباتشات Boot.efi و تصليحات الفريموير.
	
	| العنوان | مفعل | وصف |
	| :--- | :--- | :--- |
	| DevirtualizeMmio | False | مذربوردات TRx40 تحتاج لهذا الخيار |
	| EnableWriteUnprotector | False | |
	| RebuildAppleMemoryMap | True | |
	| SetupVirtualMap | True | مذربوردات **B550,A520,TRx4**0 **يجب ان تعطل هذا الخيار**, ايضا مذربوردات **B450,X470,X570** **مع بايوس محدث(اخر 2020**).  |
	| SyncRuntimePermissions | True | |


## DeviceProperties

هذا القسم مخصص لتعريف الكروت المدمجه في معالجات انتل(`PciRoot(0x0)/Pci(0x2,0x0)`).وكروت الصوت (`PciRoot(0x0)/Pci(0x1b,0x0)`)

كروت الصوت سنقوم بتعريفها بستخدام bootarg

لذلك قم بحذف جميع خيار PciRoot.

## Kernel

### ADD 

قسم مخصص لاضافه الكيكستات ونحن قمنا باضافتها [سابقا](/config/#acpi). لذلك لايوجد اي تعديل.

### Emulate

???+ info "Emulate"
	| العنوان | مفعل | وصف |
	| :--- | :--- | :--- |
	| DummyPowerManagement | True | يقوم بتعطيل التحكم بطاقه المعالج من النظام على المعالجات الغير مدعومه مثل AMD |

### Patch 

هنا نقوم باضافه الباتشات المخصصه لمعالجات AMD, هذه الباتشات مطوره من فريق AMDOSX لهم الشكر, بحيث بدونهم لن يكون الهاكنتوش الخام ممكن على معالجات AMD

قم بتنزيل الباتشات من [هنا](https://github.com/AMD-OSX/AMD_Vanilla) (تنزيل عبر زر code) ثم داخل ملف 17h ستجد ملف patches.plist قم بفتحه ببرنامج propoer tree, ثم ضع بجانبه نافذه الكونفق الخاص بك, ثم قم بعمليه النسخ مثل الصورة:

![باتشات amd](/img/config-setup/amd/amd-patches.gif)

### Quirks

![](/img/config-setup/kernel-quirks.png)

???+ info "Quirks"
	اعدادات مخصصه للكيرنل.
	
	| العنوان | مفعل |
	| :--- | :--- |
	| PanicNoKextDump | True |
	| PowerTimeoutKernelPanic | True |
	| XhciPortLimit | True |

## Misc

### Debug

???+ info "Debug"
	هذه اعدادات هامه لحل مشاكل الاقلاع في الاوبن كور(سنغير كل شيء الا displayDelay)
	
	| العنوان | مفعل |
	| :--- | :--- |
	| AppleDebug | True |
	| ApplePanic | True |
	| DisableWatchDog | True |
	| Target | 67 |

### Security

???+ info "Debug"
	هذه اعدادات هامه لحل مشاكل الاقلاع في الاوبن كور(سنغير كل شيء الا displayDelay)
	
	| عنوان  | النوع | القيمة | ملاحظة |
	| :--- | :--- | :--- | :--- |
	| AllowNvramReset | Boolean | True | |
	| AllowSetDefault | Boolean | True | |
	| BlacklistAppleUpdate | Boolean | True | |
	| ScanPolicy | Number | 0 | |
	| SecureBootModel | String | Default | يرجى نسخ الكلمه ولصقها كما هي, في حاله استخدام كرت انفيديا او اراده تعطيل Secure boot اكتب `Disabled` |
	| Vault | String | Optional | هذه ايضا كلمه,يجب وضعها كالمكتوب بالظبط. |

## NVRAM

### Add

![](/img/config-setup/nvram-add.png)

???+ info "7C436110-AB2A-4BBB-A880-FE41995C9F82"

	هنا نقوم باضافه شروط اقلاع اضافيه مثلا لتحديد كروت الصوت وغيرها.
	 **اوامر اقلاع عامة:**

	| اوامر اقلاع  | وصف |
	| :--- | :--- |
	| **-v** |هذا احد اهم اوامر الاقلاع في عالم الهاكنتوش, يقوم بتفعيل وضع تفصيل حاله الاقلاع لاظهار جميع العمليات التي يقوم بها النظام. بدونه لايمكن معرفة سبب بانك بشكل صحيح فهو يظهر  معلومات مثلا حالة الاجهزه ايت مرحلة اقلاع فيها الجهاز وغيرها   |
	| **debug=0x100** | يقوم بتعطيل اعاده التشغيل في حالة حصول بانك في الاقلاع, لاعطائك فرصة لقرائة سبب توقف النظام **يستحسن استخدامة اثناء التثبيت وحل المشاكل** |
	| **keepsyms=1** | مرافق ل debug=0x100 بحيث يخبر النظام بطباعة علامات عند حصول بانك لاعطاء معلومات اكثر عن سبب حصول البانك بالاساس. |
	| **alcid=XX** | يستخدم لتحديد نوع كروت الصوت لتعريف [AppleALC.kext](/EFI-setup/gathering-kexts#sound) قائمة الكروت الصوت والرقم الخاص بها [من هنا](https://github.com/acidanthera/applealc/wiki/supported-codecs) **استخدم الارقام بعد كلمت layout** |

	* **اوامر اقلاع لكروت الشاشة**:

	| اوامر اقلاع | وصف |
	| :--- | :--- |
	| **agdpmod=pikera** | يستخدم لتعطيل board id على كروت navi(RX 5xxx) بدونه ستواجهه شاشة سوداء, لاتستخدمة على كروت من نوع اخر. |
	| **nvda_drv_vrl=1** | ضروري لتفعيل تعريفات انفيديا على فئة GTX 9xx و 10xx على سييرا وهاي سييرا |
	| **-wegnoegpu** | يستخدم لتعطيل جميع الكروت الخارجيه, مفيد بحاله اذا كان كرتك المنفصل غير مدعوم من النظام مثل كروت انفيديا الحديثة. |
	
	- **csr-active-config :** `00000000`
		- يستخدم لتفعيل SIP وهي حمايه النظام من التعديلات, ينصح بوضعه على `00000000` وهو الافتراضي.
	
	- **run-efi-updater :** `No`
		- يستخدم لتعطيل تحديثات فريم وير لانها قد تسبب مشاكل في الاقلاع, وهي مخصصه لاجهزه الماك فقط.
	- **prev-lang:kbd :** `<0>`
		- يستخدم لتحديد لغه الكيبورد, الاختيار الافتراضي هي اللغه الروسية, وتم تعدليها ل الانجليزية بالتخطيط الامريكي.

### Delete

???+ info "Delete"
	| العنوان | مفعل |
	| :--- | :--- |
	| WriteFlash | True |

## PlatformInfo

![](/img/config-setup/propertree-platforminfo.png)

هنا نقوم بوضع معلومات الجهاز مثل نوعه و السيريال ورقم اللوحة وغيرها, سنستخدم برنامج [GenSMBios](https://github.com/corpnewt/GenSMBIOS)

بعد تشغيل البرنامج اضغط رقم 1 لتنزيل الملفات الضرورية.

بعدها اضغط رقم 3 لتوليد معلومات الجهاز

بالنسبه للموديل الجهاز (SMBIOS) هناك خيارين للجيل الثامن:

- `iMacPro1,1` مع كروت AMD rx4xx+ "Polaris" او احدث

- `MacPro7,1` مع كروت AMD R5/R7/R9 او اقدم (**كاتلينا 10.15 فما احدث فقط**)

- `iMac14,2` كروت انفيديا  6xx او احدث (**لايدعم بيج سر macOS 11 Big Sur**)

![](/img/config-setup/gensmbios.png)

يتم نقل الارقام بالشكل الاتي للكونفق:

- `Type` يتم نسخه الى Generic -> SystemProductName.
- `Serial` يتم نسخه الى  Generic -> SystemSerialNumber.
- `Board Serial` يتم نسخه الى  Generic -> MLB.
- `SmUUID` يتم نسخه الى  Generic -> Generic -> SystemUUID.

## UEFI

### Quirks

???+ info "اذا كان لديك جهاز HP"
	يجب عليك تفعيل UnblockFsConnect
	
	| العنوان | مفعل | وصف |
	| :--- | :--- | :--- |
	| UnblockFsConnect | False | ضروري لمذربوردات HP |

